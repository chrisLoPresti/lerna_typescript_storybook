"use strict";

require("core-js/modules/es6.object.assign");

require("core-js/modules/es6.array.find");

var _react = _interopRequireDefault(require("react"));

var _enzyme = require("enzyme");

var _desktop = _interopRequireDefault(require("./desktop"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var StoriesPanel = function StoriesPanel() {
  return null;
};

var AddonPanel = function AddonPanel() {
  return null;
};

var Preview = function Preview() {
  return null;
};

var SearchBox = function SearchBox() {
  return null;
};

var ShortcutsHelp = function ShortcutsHelp() {
  return null;
};

var componentStubs = {
  storiesPanel: function storiesPanel() {
    return _react.default.createElement(StoriesPanel, null);
  },
  addonPanel: function addonPanel() {
    return _react.default.createElement(AddonPanel, null);
  },
  preview: function preview() {
    return _react.default.createElement(Preview, null);
  },
  searchBox: function searchBox() {
    return _react.default.createElement(SearchBox, null);
  },
  shortcutsHelp: function shortcutsHelp() {
    return _react.default.createElement(ShortcutsHelp, null);
  }
};
describe('manager.ui.components.layout.index', function () {
  describe('with default options', function () {
    test('should render provided components', function () {
      var wrap = (0, _enzyme.shallow)(_react.default.createElement(_desktop.default, _extends({
        showStoriesPanel: true,
        showAddonPanel: true,
        addonPanelInRight: false,
        goFullScreen: false
      }, componentStubs)));
      expect(wrap.find('storiesPanel')).toBeTruthy();
      expect(wrap.find('addonPanel')).toBeTruthy();
      expect(wrap.find('preview')).toBeTruthy();
    });
    test('should render correct splits', function () {
      var wrap = (0, _enzyme.shallow)(_react.default.createElement(_desktop.default, _extends({
        showStoriesPanel: true,
        showAddonPanel: true,
        addonPanelInRight: false,
        goFullScreen: false
      }, componentStubs)));
      expect(wrap.find('storiesPanel').closest('SplitPane')).toHaveProp({
        size: 250,
        split: 'vertical'
      });
      expect(wrap.find('preview').closest('SplitPane')).toHaveProp({
        size: 200,
        split: 'horizontal'
      });
    });
  });
  describe('with goFullScreen=true', function () {
    test('should render preview in fullscreen mode', function () {
      var wrap = (0, _enzyme.shallow)(_react.default.createElement(_desktop.default, _extends({
        goFullScreen: true,
        showAddonPanel: false,
        showStoriesPanel: false,
        addonPanelInRight: false
      }, componentStubs)));
      expect(wrap.find('preview').parent()).toHaveProp({
        fullscreen: true
      });
    });
  });
  describe('with showStoriesPanel=false', function () {
    test('should hide the storiesPanel', function () {
      var wrap = (0, _enzyme.shallow)(_react.default.createElement(_desktop.default, _extends({
        showStoriesPanel: false,
        showAddonPanel: true,
        addonPanelInRight: false,
        goFullScreen: false
      }, componentStubs)));
      expect(wrap.find('storiesPanel').closest('SplitPane')).toHaveProp({
        size: 1,
        split: 'vertical'
      });
    });
  });
  describe('with showAddonPanel=false', function () {
    test('should hide the addonPanel', function () {
      var wrap = (0, _enzyme.shallow)(_react.default.createElement(_desktop.default, _extends({
        showStoriesPanel: true,
        showAddonPanel: false,
        goFullScreen: false,
        addonPanelInRight: false
      }, componentStubs)));
      expect(wrap.find('addonPanel').parent()).toHaveProp({
        showAddonPanel: false
      });
    });
  });
});