{"version":3,"file":"react-popper-tooltip.js","sources":["../../src/utils.ts","../../src/Tooltip.tsx","../../src/TooltipTrigger.tsx"],"sourcesContent":["import React from 'react';\n\nexport const TooltipContext = React.createContext({});\n\ntype Fn = (...args: any[]) => void;\ntype FnOrBool = undefined | Fn;\n\nexport const callAll = (...fns: FnOrBool[]) => (...args: any[]) =>\n  fns.forEach(fn => fn && fn(...args));\n\nexport const noop = () => {};\n\nexport const canUseDOM = () =>\n  !!(\n    typeof window !== 'undefined' &&\n    window.document &&\n    window.document.createElement\n  );\n","import React, {Component} from 'react';\nimport {findDOMNode} from 'react-dom';\nimport {IGetArrowPropsArg, IGetTooltipPropsArg, ITooltipProps} from './types';\nimport {callAll, TooltipContext} from './utils';\n\nconst MUTATION_OBSERVER_CONFIG: MutationObserverInit = {\n  childList: true,\n  subtree: true\n};\n\nclass Tooltip extends Component<ITooltipProps> {\n  private observer?: MutationObserver;\n\n  public componentDidMount() {\n    const {trigger} = this.props;\n    const observer = (this.observer = new MutationObserver(() => {\n      this.props.scheduleUpdate();\n    }));\n    observer.observe(findDOMNode(this)!, MUTATION_OBSERVER_CONFIG);\n\n    if (trigger === 'click' || trigger === 'right-click') {\n      const {\n        removeParentOutsideClickHandler,\n        removeParentOutsideRightClickHandler\n      } = this.props;\n      this.addOutsideClickHandler();\n      this.addOutsideRightClickHandler();\n      if (removeParentOutsideClickHandler) {\n        removeParentOutsideClickHandler();\n      }\n      if (removeParentOutsideRightClickHandler) {\n        removeParentOutsideRightClickHandler();\n      }\n    }\n  }\n\n  public componentDidUpdate() {\n    if (this.props.closeOnOutOfBoundaries && this.props.outOfBoundaries) {\n      this.props.hideTooltip();\n    }\n  }\n\n  public componentWillUnmount() {\n    const {trigger} = this.props;\n    if (this.observer) {\n      this.observer.disconnect();\n    }\n\n    if (trigger === 'click' || trigger === 'right-click') {\n      const {\n        addParentOutsideClickHandler,\n        addParentOutsideRightClickHandler\n      } = this.props;\n      this.removeOutsideClickHandler();\n      this.removeOutsideRightClickHandler();\n      this.handleOutsideClick = undefined;\n      this.handleOutsideRightClick = undefined;\n      if (addParentOutsideClickHandler) {\n        addParentOutsideClickHandler();\n      }\n      if (addParentOutsideRightClickHandler) {\n        addParentOutsideRightClickHandler();\n      }\n    }\n  }\n\n  public render() {\n    const {arrowProps, placement, tooltip, innerRef} = this.props;\n\n    return (\n      <TooltipContext.Provider\n        value={{\n          addParentOutsideClickHandler: this.addOutsideClickHandler,\n          addParentOutsideRightClickHandler: this.addOutsideRightClickHandler,\n          parentOutsideClickHandler: this.handleOutsideClick,\n          parentOutsideRightClickHandler: this.handleOutsideRightClick,\n          removeParentOutsideClickHandler: this.removeOutsideClickHandler,\n          removeParentOutsideRightClickHandler: this\n            .removeOutsideRightClickHandler\n        }}\n      >\n        {tooltip({\n          arrowRef: arrowProps.ref,\n          getArrowProps: this.getArrowProps,\n          getTooltipProps: this.getTooltipProps,\n          placement,\n          tooltipRef: innerRef\n        })}\n      </TooltipContext.Provider>\n    );\n  }\n\n  private handleOutsideClick?: EventListener = event => {\n    if (!findDOMNode(this)!.contains(event.target as Node)) {\n      const {\n        hideTooltip,\n        clearScheduled,\n        parentOutsideClickHandler\n      } = this.props;\n\n      clearScheduled();\n      hideTooltip();\n      if (parentOutsideClickHandler) {\n        parentOutsideClickHandler(event);\n      }\n    }\n  };\n\n  private handleOutsideRightClick?: EventListener = event => {\n    if (!findDOMNode(this)!.contains(event.target as Node)) {\n      const {\n        hideTooltip,\n        clearScheduled,\n        parentOutsideRightClickHandler\n      } = this.props;\n\n      clearScheduled();\n      hideTooltip();\n      if (parentOutsideRightClickHandler) {\n        parentOutsideRightClickHandler(event);\n      }\n    }\n  };\n\n  private addOutsideClickHandler = () => {\n    if ('ontouchend' in window) {\n      document.addEventListener('touchend', this.handleOutsideClick!);\n    } else {\n      document.addEventListener('click', this.handleOutsideClick!);\n    }\n  };\n\n  private removeOutsideClickHandler = () => {\n    document.removeEventListener('touchend', this.handleOutsideClick!);\n    document.removeEventListener('click', this.handleOutsideClick!);\n  };\n\n  private addOutsideRightClickHandler = () =>\n    document.addEventListener('contextmenu', this.handleOutsideRightClick!);\n\n  private removeOutsideRightClickHandler = () =>\n    document.removeEventListener('contextmenu', this.handleOutsideRightClick!);\n\n  private getArrowProps = (props: IGetArrowPropsArg = {}) => ({\n    ...props,\n    style: {...props.style, ...this.props.arrowProps.style}\n  });\n\n  private getTooltipProps = (props: IGetTooltipPropsArg = {}) => {\n    const isHoverTriggered = this.props.trigger === 'hover';\n\n    return {\n      ...props,\n      ...(isHoverTriggered && {\n        onMouseEnter: callAll(this.props.clearScheduled, props.onMouseEnter)\n      }),\n      ...(isHoverTriggered && {\n        onMouseLeave: callAll(this.props.hideTooltip, props.onMouseLeave)\n      }),\n      style: {...props.style, ...this.props.style}\n    };\n  };\n}\n\nexport default Tooltip;\n","/**\n * @author Mohsin Ul Haq <mohsinulhaq01@gmail.com>\n */\nimport PopperJS from 'popper.js';\nimport React, {Component} from 'react';\nimport {createPortal} from 'react-dom';\nimport {Manager, Popper, Reference} from 'react-popper';\nimport Tooltip from './Tooltip';\nimport {\n  IGetTriggerPropsArg,\n  ITooltipTriggerProps,\n  ITooltipTriggerState\n} from './types';\nimport {callAll, canUseDOM, noop, TooltipContext} from './utils';\n\nconst DEFAULT_MODIFIERS: PopperJS.Modifiers = {\n  preventOverflow: {\n    boundariesElement: 'viewport'\n  }\n};\n\nclass TooltipTrigger extends Component<\n  ITooltipTriggerProps,\n  ITooltipTriggerState\n> {\n  public static defaultProps = {\n    closeOnOutOfBoundaries: true,\n    defaultTooltipShown: false,\n    delayHide: 0,\n    delayShow: 0,\n    followCursor: false,\n    onVisibilityChange: noop,\n    placement: 'right',\n    portalContainer: canUseDOM() ? document.body : null,\n    trigger: 'hover',\n    usePortal: canUseDOM()\n  };\n\n  public static contextType = TooltipContext;\n\n  public state: ITooltipTriggerState = {\n    tooltipShown: this.props.defaultTooltipShown\n  };\n\n  private hideTimeout?: number;\n  private showTimeout?: number;\n\n  public componentWillUnmount() {\n    this.clearScheduled();\n  }\n\n  public render() {\n    const {\n      children,\n      tooltip,\n      placement,\n      trigger,\n      getTriggerRef,\n      modifiers,\n      closeOnOutOfBoundaries,\n      usePortal,\n      portalContainer,\n      followCursor,\n      getTooltipRef\n    } = this.props;\n\n    const {\n      parentOutsideClickHandler,\n      addParentOutsideClickHandler,\n      removeParentOutsideClickHandler,\n      parentOutsideRightClickHandler,\n      addParentOutsideRightClickHandler,\n      removeParentOutsideRightClickHandler\n    } = this.context;\n\n    const popper = (\n      <Popper\n        innerRef={getTooltipRef}\n        placement={placement}\n        modifiers={{...DEFAULT_MODIFIERS, ...modifiers}}\n      >\n        {({\n          ref,\n          style,\n          // tslint:disable-next-line\n          placement,\n          arrowProps,\n          outOfBoundaries,\n          scheduleUpdate\n        }) => {\n          if (followCursor) {\n            const {pageX, pageY} = this.state;\n            style.transform = `translate3d(${pageX}px, ${pageY}px, 0`;\n          }\n\n          return (\n            <Tooltip\n              {...{\n                addParentOutsideClickHandler,\n                addParentOutsideRightClickHandler,\n                arrowProps,\n                closeOnOutOfBoundaries,\n                outOfBoundaries,\n                parentOutsideClickHandler,\n                parentOutsideRightClickHandler,\n                placement,\n                removeParentOutsideClickHandler,\n                removeParentOutsideRightClickHandler,\n                scheduleUpdate,\n                style,\n                tooltip,\n                trigger\n              }}\n              clearScheduled={this.clearScheduled}\n              hideTooltip={this.hideTooltip}\n              innerRef={ref}\n            />\n          );\n        }}\n      </Popper>\n    );\n\n    return (\n      <Manager>\n        <Reference innerRef={getTriggerRef}>\n          {({ref}) =>\n            children({getTriggerProps: this.getTriggerProps, triggerRef: ref})\n          }\n        </Reference>\n        {this.getState() &&\n          (usePortal ? createPortal(popper, portalContainer) : popper)}\n      </Manager>\n    );\n  }\n\n  private isControlled() {\n    return this.props.tooltipShown !== undefined;\n  }\n\n  private getState() {\n    return this.isControlled()\n      ? this.props.tooltipShown\n      : this.state.tooltipShown;\n  }\n\n  private setTooltipState = (state: ITooltipTriggerState) => {\n    const cb = () => this.props.onVisibilityChange(state.tooltipShown);\n    this.isControlled() ? cb() : this.setState(state, cb);\n  };\n\n  private clearScheduled = () => {\n    clearTimeout(this.hideTimeout);\n    clearTimeout(this.showTimeout);\n  };\n\n  private showTooltip = ({pageX, pageY}: {pageX: number; pageY: number}) => {\n    this.clearScheduled();\n    let state: ITooltipTriggerState = {\n      tooltipShown: true\n    };\n    if (this.props.followCursor) {\n      state = {\n        ...state,\n        pageX,\n        pageY\n      };\n    }\n    this.showTimeout = window.setTimeout(\n      () => this.setTooltipState(state),\n      this.props.delayShow\n    );\n  };\n\n  private hideTooltip = () => {\n    this.clearScheduled();\n    this.hideTimeout = window.setTimeout(\n      () => this.setTooltipState({tooltipShown: false}),\n      this.props.delayHide\n    );\n  };\n\n  private toggleTooltip = ({pageX, pageY}: {pageX: number; pageY: number}) => {\n    const action = this.getState() ? 'hideTooltip' : 'showTooltip';\n    this[action]({pageX, pageY});\n  };\n\n  private clickToggle: React.MouseEventHandler = ({pageX, pageY}) => {\n    const action = this.props.followCursor ? 'showTooltip' : 'toggleTooltip';\n    this[action]({pageX, pageY});\n  };\n\n  private contextMenuToggle: React.MouseEventHandler = event => {\n    event.preventDefault();\n    const {pageX, pageY} = event;\n    const action = this.props.followCursor ? 'showTooltip' : 'toggleTooltip';\n    this[action]({pageX, pageY});\n  };\n\n  private getTriggerProps = (props: IGetTriggerPropsArg = {}) => {\n    const {trigger, followCursor} = this.props;\n    const isClickTriggered = trigger === 'click';\n    const isHoverTriggered = trigger === 'hover';\n    const isRightClickTriggered = trigger === 'right-click';\n    const isTouchEnabled = canUseDOM() && 'ontouchend' in window;\n\n    return {\n      ...props,\n      ...(isClickTriggered &&\n        isTouchEnabled && {\n          onTouchEnd: callAll(this.clickToggle, props.onTouchEnd)\n        }),\n      ...(isClickTriggered &&\n        !isTouchEnabled && {\n          onClick: callAll(this.clickToggle, props.onClick)\n        }),\n      ...(isRightClickTriggered && {\n        onContextMenu: callAll(this.contextMenuToggle, props.onContextMenu)\n      }),\n      ...(isHoverTriggered && {\n        onMouseEnter: callAll(this.showTooltip, props.onMouseEnter)\n      }),\n      ...(isHoverTriggered && {\n        onMouseLeave: callAll(this.hideTooltip, props.onMouseLeave)\n      }),\n      ...(isHoverTriggered &&\n        followCursor && {\n          onMouseMove: callAll(this.showTooltip, props.onMouseMove)\n        })\n    };\n  };\n}\n\nexport default TooltipTrigger;\n"],"names":["TooltipContext","React","createContext","callAll","fns","args","forEach","fn","noop","canUseDOM","window","document","createElement","MUTATION_OBSERVER_CONFIG","childList","subtree","Tooltip","observer","handleOutsideClick","event","findDOMNode","contains","target","props","hideTooltip","clearScheduled","parentOutsideClickHandler","handleOutsideRightClick","parentOutsideRightClickHandler","addOutsideClickHandler","addEventListener","removeOutsideClickHandler","removeEventListener","addOutsideRightClickHandler","removeOutsideRightClickHandler","getArrowProps","style","arrowProps","getTooltipProps","isHoverTriggered","trigger","onMouseEnter","onMouseLeave","componentDidMount","MutationObserver","scheduleUpdate","observe","removeParentOutsideClickHandler","removeParentOutsideRightClickHandler","componentDidUpdate","closeOnOutOfBoundaries","outOfBoundaries","componentWillUnmount","disconnect","addParentOutsideClickHandler","addParentOutsideRightClickHandler","undefined","render","placement","tooltip","innerRef","arrowRef","ref","tooltipRef","Component","DEFAULT_MODIFIERS","preventOverflow","boundariesElement","TooltipTrigger","state","tooltipShown","defaultTooltipShown","hideTimeout","showTimeout","setTooltipState","cb","onVisibilityChange","isControlled","setState","clearTimeout","showTooltip","pageX","pageY","followCursor","setTimeout","delayShow","delayHide","toggleTooltip","action","getState","clickToggle","contextMenuToggle","preventDefault","getTriggerProps","isClickTriggered","isRightClickTriggered","isTouchEnabled","onTouchEnd","onClick","onContextMenu","onMouseMove","children","getTriggerRef","modifiers","usePortal","portalContainer","getTooltipRef","context","popper","transform","triggerRef","createPortal","defaultProps","body","contextType"],"mappings":"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"}